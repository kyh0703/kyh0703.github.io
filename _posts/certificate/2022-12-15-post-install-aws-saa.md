---
published: true
title: "AWS SAA-C03 - 정리"
categories:
  - Certificate
tags:
  - [certificate, AWS, SAA-C03]
toc: true
toc_sticky: true
date: "2022-12-15 12:00"
---

## AWS(Amazon Web services)

* 온디맨드 방식으로 쉽게 확장할 수 있는 서버, 서비스 제공

#### Regions

* 데이터 센터의 집합

**리전 선택 영향 요인**

* 법률 준수
    * 프랑스 데이터는 프랑스에서만 있어야 됌
* 지연시간
    * 지역이 가까울 수록 지연시간이 줄어듬
* 모든 리전이 모든 서비스를 가지고 있지 않음
* 요금

#### AWS Avaliablity zones

* 가용영역은 리전 안에서만 존재
* 리전은 많은 가용 영역을 가질 수 있음
* 보통 3, 최소 2, 최대 6개까지
* 재난에 대비해 서로 단절되어 있음

## IAM(Identity and Access Management)

* 사용자를 생성
* 그룹에 배치
* 사용자들을 그룹으로 묶어서 관리할 수 있다.
* 한 사용자가 다른 여러 그룹에 속할 수 있다.

**패스워드정책**

* 패스워드 변경 정책
* MFA
    * 사용자의 디바이스와 같이 인증

## EC2(Elastic Compute Cloud)

* 온디맨드 인스턴스
    * 사용한 만큼 금액 지불
* 정기 예약 인스턴스
    * 1년이나 3년주기로 계약
    * 선불 혹은 달마다
* 전환형 예약 인스턴스
    * 예약 후 인스턴스 유형을 변경 할 수 있다.
* 스팟 인스턴스
    * 설정한 가격에 맞을 경우 인스턴스를 실행
    * 인스턴스가 파괴될 수 있음
    * 온디맨드와 비교해서 최대 90% 할인가능

### spot instance and spot fleet

* 스팟블록
    * 특정기간 동안 인스턴스를 차단하는 기능
    * 2022년 12월 31일자로 서비스 종료

**스팟요청**

* 일회성 요청
    * 일회성 요청으로 스팟 요청이 완료된 후 요청은 사라진다.
* 지속적인 요청
    * 지속적으로 스팟을 요청하게 되며, 생성 후에도 스팟 요청이 남아있다.

> 스팟을 지우기 위해서는 스팟 요청을 삭제 후 인스턴스를 종료시켜야된다.

#### 스팟집합(spot fleet)

한 세트의 스팟 인스턴스에다가 선택적으로 온디맨드 인스턴스를 조합해 사용하는 방식

정해진 예산이나 정해진 용량이 도달하면 인스턴스 실행을 멈춤

**할당 전략**

* lowestPrice
    * 가장 적은 비용을 가진 풀에서부터 인스턴스를 실행
    * 아주 짧은 워크로드에 적합
* diversified
    * 모든 풀에 거쳐 분산이 됨
    * 한 풀이 종료되더라도 다른 풀에서 가동 됨
* capacity optimized
    * 인스턴스의 개수에 따라서 최적용량으로 실행이 되고 적절한 풀을 찾아주는 옵션

## IP

**public**

공용 아이피

**private**

사설 아이피

#### Elastic IPs

* 인스턴스가 재시작되어도 유지되는 public IP

* 계정당 5개

> 탄력적 아이피보단 임의의 공용 IP를 써서 DNS이름을 할당하는 것이 좋음. 또는 로드밸런서를 사용

### Plcaement Groups(배치그룹)

EC2 인스턴스가 AWS인프라에 배치되는 방식을 제어하고자 할 때 사용

#### **3가지 생성 전략**

**cluster**

* 단일 가용 영역 내에서 지연시간이 짧은 하드웨어 설정
* 동일한 랙에 구성 됨(동일한 가용영역)
* 10Gbps
* 하드웨어가 고장나면 ec2인스턴스가 다 종료 됨
* 극히 짧은 지연시간, 고속의 네트워크

**spread**

* 인스턴스가 다른 하드웨어(랙, 가용영역)에 분산
* 배치그룹 당 7개의 EC2인스턴스만 가짐
* 동시 실패의 위험 감소

**partition**

* 여러 파티션에 인스턴스를 분할
* 파티션은 다운 오류 파티션과 격리됨
* 가용영역당 7개 파티션
* 각 파티션은 랙을 말함
* 랙 실패로부터 안전함
* HDFS, HBase, Kafka, Cassndra

### ENI(Elastic Network Interfaces)

* VPC의 논리적 구성요서이며 가상 네트워크 카드를 나타냄(NIC)

* 인스턴스가 네트워크에 엑세스 할 수 있게 해줌

#### 속성

* 주요 사설 IPv4와 하나 이상의 보조 IPv4를 가질 수 있음

* ENI에 하나이상의 보안 그룹을 연결 할 수 있음
* 인스턴스와 독립적으로 ENI를 생성하여 즉시 연결하거나 장애 조치를 위해 EC2인스턴스에서 이동시킬 수 있음

### EC2 Hibernate(절전모드)

* 절전모드가 되면 램에 있던 인 메모리 상태는 보존 됨
* EBS 볼륨에 기록되어 있음
* 빠르게 재 부팅하거나 RAM상태를 저장하고 싶을 때
* 베어메탈 인스턴스 적용 X
* 루트 볼륨, 즉 EBS에만 저장이 가능
* 암호화가 필요
* 절전 모드는 최대 60일이 최대 기간

**순서**

1. 인스턴스를 절전모드로 설정
2. 인스턴스의 메모리는 EBS에 기록
3. 인스턴스 중지 시 RAM은 제거
4. EBS의 기록된 RAM  dump를 가지고 부팅

## EC2  인스턴스 스토리지

### EBS(Elastic Block Store)

* 네트워크 드라이버
* USB와 같다 생각하면 됨
* 인스턴스가 종료된 후에도 데이터를 지속 가능
    * CCP: 하나의 인스턴스에 하나의 EBS
    * 어소시에이트 레벨: 일부 EBS 다중연결
* 특정 가용영역에서만 생성 가능
    * 스냅샷을 이용하면 다른 가용영역으로 볼륨을 이동시킬 수 있음

> 종료시 삭제 기능을 Enable/Disable로 EC2인스턴스가 종료시 root볼륨을 유지할 수 있다.

### EBS Snapshot

* EBS볼륨의 특정시점에 대한 백업

* 다른 가용영역이나 다른 리전에도 복사할 수 있음

**EBS Snapshot Archive**

* 최대 75%까지 저렴한 아카이브 티어로 스냅샷을 옮길 수 있는 기능
* 아카이브를 복원하는데 24시간에서 최대 72시간까지 걸림
* 즉시 복원 X 

**Recycle Bin for EBS Snapshot **

* EBS 스냅샷을 영구 삭제 하는 대신 휴지통에 넣음
* 기간을 1일에서 1년까지 지정 가능

**Fast Snapshot Restore(FSR)**

* 스냅샷을 완전 초기화해 지연시간을 없애는 기능
* 인스턴스를 빠르게 초기화할때 유용
* 비용이 많이 듬

### AMI(Amazon Machin Image)

* 사용자 지정 인스턴스를 나타냄

**AMI 종류**

* Public AMI

* Your Own AMI

* An AWS Marketplace
* Community

### ECS Instance Store

EC2 인스턴스는 가상 머신이지만 실제로 하드웨어 서버에 연결되어 있다.

물리적으로 연결된 디스크 공간을 `EC2인스턴스 스토어`라고 부른다

* 향상된 디스크 성능
* ec2인스턴스를 종료하면 손실된다.
* 임시 스토리지
* 버퍼, 캐시를 저장하는 임시콘텐츠를 사용하는 경우
* 장기 스토리지는 EBS가 적합

### EBS 볼륨 유형

#### 범용 SSD(gp2/gp3)

* 다양한 워크로드에 대해 가격과 성능의 절충안이 되어줌
* 부팅볼륨으로 사용될 수 있음
* 1GB ~ 16GB 까지 다양함
* 개발, 테스트, 가상데스크톱
* gp2는 예전 버전으로 최대 3000IOPS에 볼륨과  최대용량이 
* gp3는 최신 세대 볼륨으로 3000 IOPS와 초당 125MB의 처리량을 제공

#### 프로비저닝 된 IOPS (io1/io2)

* 최고 성능을 자랑함
* 부팅 볼륨으로 사용할 수 있음

* 16000 IOPS성능을 유지할 필요가 있는 애플리케이션
* 데이터베이스 워크로드
  * io1/io2(4GiB - 16Tib)
    * Max PIOPS: 64000 for Nitro EC2
    * `Nitro EC2` 인스턴스가 아닐경우 32000IOPS
    * io2는 4GB ~ 64TB

#### st1(HDD)

저비용의 HDD볼륨으로 잦은 접근과 처리량이 많은 워크로드에 사용

최대 16TB 까지 확장되며 두가지 볼륨을 제공한다.

#### 콜드 HDD sc1(HDD)

가장 비용이 적게 드는 HDD볼륨으로 접근 빈도가 낮은 워크로드에 사용

### EBS 다중 연결(io1/io2)

다중 연결 기능은 하나의 EBS 볼륨을 같은 가용영역에 있는 여러 EC2인스턴스에 연결 할 수 있게 해줌

* io1, io2만 가능
* 같은 가용영역내에서만 사용 할 수 있다.
* 16개의 EC2인스턴스 만 같은 볼륨에 연결 할 수 있다

### EBS 암호화

* 볼룸간 데이터, 및 저장되는 볼륨역시 암호화 된다.

### EFS(Elastic File System)

* 관리형 NFS(Network File System)
* 여러 EC2인스턴스에 마운트 될 수 있음
* EC2인스턴스는 여러 가용 영역에 있을 수 있다.
* 가용성이 높고 확장성도 높다
* 그만큼 가격이 비쌈
* WIndow가 아닌 Linux AMI와 호환 됨
* 파일 시스템이 자동으로 확장되고 사용량에 따라 요금을 지불
* 따라서 용량 계획하지 않아도 됨
* 웹서버, 데이터 공유 word Press에 사용
* 처리량은 초당 10GB

#### 성능모드

**범용모드**

기본 설정으로 민감한 웹 서버

* 최대 IO
  * 처리량을 높이고 싶다면 사용
* 미디어 처리 작업이 있을 때 유용

**처리량 모드**

`버스팅모드`가 기본값

* 초당 50MiB ~ 초당 100Mib까지 버스트 할 수 있음
* 프로비저닝 모드에서는 크기에 상관없이 처리량을 설정 할 수 있다.

